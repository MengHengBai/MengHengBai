<h1>grub</h1>
<p>grub是一种新时代多系统高级引导器，与其他引导器相比：引导更为快速，可以多系统引导，支持efi</p>
<h1>电脑启动过程</h1>
<h2>传统引导</h2>
<p>传统引导（legacy），自检步骤多，稳定，但是速度慢。</p>
<p>启动过程如下</p>
<p>电源&gt;初始化bois&gt;bios自检&gt;查找启动设备&gt;mbr&gt;加载os内核&gt;启动</p>
<blockquote>
<p>bios：basic input output system（基本输入输出系统）
mbr：master boot record（主引导记录）</p>
</blockquote>
<h2>uefi | efi</h2>
<p>efi引导，没有自检，直接启动系统，由系统自检。</p>
<p>启动&gt;初始化efi&gt;引导程序&gt;加载os内核&gt;启动</p>
<p>现在，该启动方式可以直接把引导程序当做操作系统使用，不过功能性不是很强。</p>
<p>该方式支持分辨率高，没有画面压缩效果，大部分设备都支持该启动方式，推荐使用这种启动方式。</p>
<h1>安装grub | 支持uefi</h1>
<p>关闭主板的secure boot，以关闭uefi分区保护。</p>
<p>创建一个33Mib的分区，文件系统为fat32。</p>
<p>使用<code>sudo -i</code>进入root模式。</p>
<p>挂载这个分区，创建一个efi文件夹和一个grub文件夹。</p>
<p>挂载根分区到<code>/mnt</code>，挂载新分区到<code>/mnt/boot/efi</code></p>
<p>执行<code>grub-install --root-directory=/mnt --efi-directory=/mnt/boot/efi /dev/sd*</code></p>
<p>再次执行<code>grub-mkconfig -o /mnt/boot/grub/grub.cfg</code></p>
<p>执行完成后，即可安装完成。</p>
<h1>如何使用坏掉的grub</h1>
<p>使用<code>ls</code>查看所有可用的磁盘，再次使用<code>ls (hd*,xxx)</code>查看分区使用的分区种类，找到<code>linux</code>分类的分区（linux系统）。</p>
<p>执行<code>set profix=(hd*,xxx)/boot/grub</code>确定启动分区，使用<code>insmod normal</code>载入模块，使用<code>normal</code>运行模块。</p>
<p>选中系统后启动，进入系统后使用终端命令<code>update-grub</code>修复grub。</p>
