<link href="http://github.com/yrgoldteeth/darkdowncss/raw/master/darkdown.css" rel="stylesheet"></link> 
<h1>数据库基础</h1>
<h2>登录数据库</h2>
<pre><code class="language-sql">mysql -u root -p passwd
</code></pre>
<h2>展示所有数据库</h2>
<pre><code class="language-sql">show databases;
</code></pre>
<h2>数据库操作</h2>
<pre><code class="language-sql">use admin;
</code></pre>
<p>使用admin数据库</p>
<pre><code class="language-sql">select * from admin;
select 1 + 1 , 3 + 2 from DUAL; -- dual即伪表
</code></pre>
<p>从admin表中查找所有内容</p>
<pre><code class="language-sql">select * from admin where a=5;
</code></pre>
<p>根据某列中的数据值查找</p>
<pre><code class="language-sql">exit;
</code></pre>
<p>退出</p>
<pre><code class="language-sql">create database test;
</code></pre>
<p>创建数据库test</p>
<pre><code class="language-sql">show tables;
</code></pre>
<p>展示当前数据库中的所有数据表</p>
<pre><code class="language-sql">create table test(
	name varchar(20),
    sex char(1),
    birth date,
    age int
);
</code></pre>
<p>创建一个数据表</p>
<pre><code class="language-sql">describe test;
</code></pre>
<p>查看数据表结构</p>
<pre><code class="language-sql">insert into test values(...);
</code></pre>
<p>插入内容</p>
<pre><code class="language-sql">update test set name='...' ...;
</code></pre>
<p>修改内容</p>
<pre><code class="language-sql">delete ...
</code></pre>
<p>删除表/内容</p>
<pre><code class="language-sql">select last_name AS name, conmmission_pct &quot;comm&quot;
from   employees; 
</code></pre>
<p>两种别名方式，as可加可不加，双引号同理</p>
<pre><code class="language-sql">select DISTINCT depart_id
from employees;
</code></pre>
<p>去重显示，可以查询多个id，但以第一个为准</p>
<pre><code class="language-sql">select employee_id,sa &quot;月工资&quot;, sa * (1 + commission_pct) * 12 &quot;年工资&quot;
from employees;
</code></pre>
<p>空值参与运算时，结果也是空</p>
<pre><code class="language-sql">select employee_id,sa &quot;月工资&quot;, sa * (1 + IFNULL(commission_pct,0)) * 12 &quot;年工资&quot;
from employees;
</code></pre>
<p>实际解决问题时，使用IFNULL解决</p>
<pre><code class="language-sql">select * from employees where department_id = 90;
</code></pre>
<p>过滤条件</p>
<pre><code class="language-sql">select employee_id, last_name from employees LIMIT 0,20;
</code></pre>
<p>限制每页显示20条内容，从第0个元素开始显示</p>
<pre><code class="language-sql">select T1.C,T2.C from T1,T2
where T1.`C1` = T2.`C2`;
</code></pre>
<p>多表查询及其查询方式</p>
<h2>约束</h2>
<pre><code class="language-sql">-- 主键约束 - 联合主键
create table user1 (
	id int,
    name vachar(20),
    password varchar(20),
    primary key(id,name)
);
-- 自增约束
create table user2(
	id int primary key auto_increment,
    name varchar(20)
);
alter table user2 add primary key(id);  -- 可以后期添加约束
alter table user2 drop primary key;     -- 后期删除约束
alter table user2 modify id int primary key; -- 修改字段约束
-- 唯一约束
create table user3(
	id int,
    name varchar(20),
    unique(id)
);
-- 非空约束
create table user4(
	id int not null,
    name varchar(20) not null
);
-- 默认约束
create teble user5(
	id int,
    name varchar(20),
    age int default 800
);
-- 外建约束
create table classes( --副表  主表数据没有时，副表不可用
	id int primary key,
    name varchar(20)
);
create table students( --主表  被副表引用，不可删除
	id int primary key,
    name varchar(20),
    class_id int,
    foreign key(class_id) refernces classes(id)
);
</code></pre>
<h2>范式</h2>
<p>第一范式 1NF： 表中的字段值划分为最小不可拆分</p>
<p>第二范式 2NF： 在第一范式的前提下，除主键外所有健均依赖于主键，且无二值</p>
<p>第三范式 3ND： 在第二范式的前提下，除主键外其他列不得有依赖关系</p>
<h2>其他</h2>
<pre><code class="language-sql">-- 查询不重复的列/遍历key
select distinct 列 from 数据表;
-- 查询区间
select * from 表 where 列 between 800 and 0;
select * from 表 where 列 &gt; 0 and 列 &lt; 800;
-- 或
select * from 表 where 列 in (0,1,2);
select * from 表 where 列=15 or 另一列=80;
-- 升序/降序
asc升,desc降
-- 统计
count(列)
-- 子查询
xxx=(子查询语句)
-- 最大值/最小值
max()
min()
-- 限制 最小值，数量
limit 0,1
-- 平均数
avg()
-- 分组计算
group by 列
</code></pre>
